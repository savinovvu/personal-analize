CREATE SEQUENCE CONSTRUCTOR_SEQ
  AS INTEGER START WITH 1000;


CREATE TABLE answerkits
(
  id      INTEGER GENERATED BY DEFAULT AS SEQUENCE CONSTRUCTOR_SEQ  PRIMARY KEY,
  name  VARCHAR(255),
  answerType VARCHAR(255)
);


CREATE TABLE questionkits
(
  id      INTEGER GENERATED BY DEFAULT AS SEQUENCE CONSTRUCTOR_SEQ  PRIMARY KEY,
  name  VARCHAR(255)
);

CREATE TABLE answervars
(
  id      INTEGER GENERATED BY DEFAULT AS SEQUENCE CONSTRUCTOR_SEQ  PRIMARY KEY,
  name  VARCHAR(255),
  answerkit_id INTEGER,

  FOREIGN KEY (answerkit_id) REFERENCES answerkits (id)
    ON DELETE CASCADE
);

CREATE TABLE questionvars
(
  id      INTEGER GENERATED BY DEFAULT AS SEQUENCE CONSTRUCTOR_SEQ  PRIMARY KEY,
  name  VARCHAR(255),

  answerkit_id INTEGER,
  questionkit_id INTEGER,

  FOREIGN KEY (answerkit_id) REFERENCES answerkits (id)
    ON DELETE CASCADE,
  FOREIGN KEY (questionkit_id) REFERENCES questionkits (id)
    ON DELETE CASCADE
);


CREATE TABLE questionsubs
(
  id      INTEGER GENERATED BY DEFAULT AS SEQUENCE CONSTRUCTOR_SEQ  PRIMARY KEY,
  name  VARCHAR(255),

  answerkit_id INTEGER,
  questionvar_id INTEGER,

  FOREIGN KEY (answerkit_id) REFERENCES answerkits (id)
    ON DELETE CASCADE,
  FOREIGN KEY (questionvar_id) REFERENCES questionvars (id)
    ON DELETE CASCADE
);

